[phases.setup]
nixPkgs = ["flutter", "python3", "git"]
env = { FLUTTER_VERSION = "3.16.9" }

[phases.install]
cmds = [
  "flutter doctor -v",
  "flutter config --enable-web",
  "flutter pub get",
  "flutter --version"
]

[phases.build]
cmds = [
  "flutter build web --release --web-renderer html"
]

[start]
cmd = "cd build/web && python3 -m http.server $PORT" 